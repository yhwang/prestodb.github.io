

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../_static/favicon.ico">
    
    
      
        <title>Aggregate Functions - Presto 0.288.1 Documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.359ec555e2989f00f.min.css?v=b000af5c" />
        <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-K7GB6F0LBZ"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-K7GB6F0LBZ",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-K7GB6F0LBZ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="cyan">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Presto 0.288.1 Documentation" class="md-header__button md-logo" aria-label="Presto 0.288.1 Documentation" data-md-component="logo">
      <img src="../_static/logo.png" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Presto 0.288.1 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Aggregate Functions
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="cyan"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/prestodb/presto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Presto
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Presto 0.288.1 Documentation" class="md-nav__button md-logo" aria-label="Presto 0.288.1 Documentation" data-md-component="logo">
      <img src="../_static/logo.png" alt="logo">
    </a>
    Presto 0.288.1 Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/prestodb/presto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Presto
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../overview.html" class="md-nav__link">
        <span class="md-ellipsis">Overview</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        <span class="md-ellipsis">Installation</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../clients.html" class="md-nav__link">
        <span class="md-ellipsis">Presto Clients</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../security.html" class="md-nav__link">
        <span class="md-ellipsis">Security</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../admin.html" class="md-nav__link">
        <span class="md-ellipsis">Administration</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../cache.html" class="md-nav__link">
        <span class="md-ellipsis">Cache</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../optimizer.html" class="md-nav__link">
        <span class="md-ellipsis">Query Optimizer</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../connector.html" class="md-nav__link">
        <span class="md-ellipsis">Connectors</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../plugin.html" class="md-nav__link">
        <span class="md-ellipsis">Plugins</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" checked>
      
      
      
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../functions.html"><span class="md-ellipsis">Functions and Operators</span></a>
          
            <label for="__nav_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Functions and Operators" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Functions and Operators</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="logical.html" class="md-nav__link">
        <span class="md-ellipsis">Logical Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="comparison.html" class="md-nav__link">
        <span class="md-ellipsis">Comparison Functions and Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="conditional.html" class="md-nav__link">
        <span class="md-ellipsis">Conditional Expressions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="lambda.html" class="md-nav__link">
        <span class="md-ellipsis">Lambda Expressions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="conversion.html" class="md-nav__link">
        <span class="md-ellipsis">Conversion Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="math.html" class="md-nav__link">
        <span class="md-ellipsis">Mathematical Functions and Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="bitwise.html" class="md-nav__link">
        <span class="md-ellipsis">Bitwise Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="decimal.html" class="md-nav__link">
        <span class="md-ellipsis">Decimal Functions and Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="string.html" class="md-nav__link">
        <span class="md-ellipsis">String Functions and Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="regexp.html" class="md-nav__link">
        <span class="md-ellipsis">Regular Expression Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="binary.html" class="md-nav__link">
        <span class="md-ellipsis">Binary Functions and Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="json.html" class="md-nav__link">
        <span class="md-ellipsis">JSON Functions and Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="datetime.html" class="md-nav__link">
        <span class="md-ellipsis">Date and Time Functions and Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-ellipsis">Aggregate Functions</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span class="md-ellipsis">Aggregate Functions</span>
      </a>
      
        

<nav class="md-nav md-nav--secondary">
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
        <li class="md-nav__item">
            <a href="https://github.com/prestodb/presto/blob/master/presto-docs/src/main/sphinx/functions/aggregate.rst" class="">
                <span class="md-source__icon md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
                </span>
                View Page Source
            </a>
        </li>
        <li class="md-nav__item">
            <a href="https://github.com/prestodb/presto/edit/master/presto-docs/src/main/sphinx/functions/aggregate.rst" class="">
                <span class="md-source__icon md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-1.9l10-10V8l-6-6H6m7 1.5L18.5 9H13V3.5m7.1 9.5c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-2 1.8L12 20.9V23h2.1l6.1-6.1-2.1-2.1Z"/></svg>
                </span>
                Edit this page
            </a>
        </li>
        <li class="md-nav__item">
            <a href="https://github.com/prestodb/presto/issues/new?title=Documentation&labels=docs"
                class="">
                <span class="md-source__icon md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M40 48c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zm152 16c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zm24 136c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24H40z"/></svg>
                </span>
                Create docs issue
            </a>
        </li>
        <li class="md-nav__item">
            <a href="https://github.com/prestodb/presto/issues/new" class="">
                <span class="md-source__icon  md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M40 48c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zm152 16c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zm24 136c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24H40z"/></svg>
                </span>
                Create project issue
            </a>
        </li>
    </ul>
    <hr>
    
    
    
    
    
    <label class="md-nav__title" for="__toc">
        <span class="md-nav__icon md-icon"></span>
        Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
        
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">Overview</span>
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#general-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">General Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="General Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#any_value-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="any_value(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">any_<wbr>value<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arbitrary-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="arbitrary(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">arbitrary<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array_agg-x-array-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="array_agg(x) -&gt; array&lt;[same as input]&gt; (JavaScript function)" class="md-ellipsis">array_<wbr>agg<wbr>(x) -<wbr>&gt; array&lt;<wbr>[same as input]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avg-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="avg(x) -&gt; double (JavaScript function)" class="md-ellipsis">avg<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avg-time-interval-type-time-interval-type" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="avg(time interval type) -&gt; time interval type (JavaScript function)" class="md-ellipsis">avg<wbr>(time interval type) -<wbr>&gt; time interval type</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool_and-boolean-boolean" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bool_and(boolean) -&gt; boolean (JavaScript function)" class="md-ellipsis">bool_<wbr>and<wbr>(boolean) -<wbr>&gt; boolean</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool_or-boolean-boolean" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bool_or(boolean) -&gt; boolean (JavaScript function)" class="md-ellipsis">bool_<wbr>or<wbr>(boolean) -<wbr>&gt; boolean</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checksum-x-varbinary" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="checksum(x) -&gt; varbinary (JavaScript function)" class="md-ellipsis">checksum<wbr>(x) -<wbr>&gt; varbinary</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="count(*) -&gt; bigint (JavaScript function)" class="md-ellipsis">count<wbr>(*) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="count(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">count<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count_if-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="count_if(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">count_<wbr>if<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#every-boolean-boolean" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="every(boolean) -&gt; boolean (JavaScript function)" class="md-ellipsis">every<wbr>(boolean) -<wbr>&gt; boolean</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geometric_mean-bigint-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="geometric_mean(bigint) -&gt; double (JavaScript function)" class="md-ellipsis">geometric_<wbr>mean<wbr>(bigint) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max_by-x-y-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="max_by(x, y) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">max_<wbr>by<wbr>(x, y) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max_by-x-y-n-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="max_by(x, y, n) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">max_<wbr>by<wbr>(x, y, n) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min_by-x-y-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="min_by(x, y) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">min_<wbr>by<wbr>(x, y) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min_by-x-y-n-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="min_by(x, y, n) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">min_<wbr>by<wbr>(x, y, n) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="max(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">max<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-x-n-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="max(x, n) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">max<wbr>(x, n) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="min(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">min<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min-x-n-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="min(x, n) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">min<wbr>(x, n) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduce_agg-inputValue-T-initialState-S-inputFunction-S-T-S-combineFunction-S-S-S-S" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="reduce_agg(inputValue T, initialState S, inputFunction(S,T,S), combineFunction(S,S,S)) -&gt; S (JavaScript function)" class="md-ellipsis">reduce_<wbr>agg<wbr>(input<wbr>Value T, initial<wbr>State S, input<wbr>Function<wbr>(S,T,S), combine<wbr>Function<wbr>(S,S,S)) -<wbr>&gt; S</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_agg-x-array-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="set_agg(x) -&gt; array&lt;[same as input]&gt; (JavaScript function)" class="md-ellipsis">set_<wbr>agg<wbr>(x) -<wbr>&gt; array&lt;<wbr>[same as input]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_union" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="set_union (JavaScript function)" class="md-ellipsis">set_<wbr>union</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="sum(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">sum<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#bitwise-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Bitwise Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Bitwise Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bitwise_and_agg-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bitwise_and_agg(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">bitwise_<wbr>and_<wbr>agg<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitwise_or_agg-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bitwise_or_agg(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">bitwise_<wbr>or_<wbr>agg<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitwise_xor_agg-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bitwise_xor_agg(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">bitwise_<wbr>xor_<wbr>agg<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#map-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Map Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Map Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#histogram" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="histogram (JavaScript function)" class="md-ellipsis">histogram</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map_agg" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="map_agg (JavaScript function)" class="md-ellipsis">map_<wbr>agg</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map_union" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="map_union (JavaScript function)" class="md-ellipsis">map_<wbr>union</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map_union_sum" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="map_union_sum (JavaScript function)" class="md-ellipsis">map_<wbr>union_<wbr>sum</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multimap_agg" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="multimap_agg (JavaScript function)" class="md-ellipsis">multimap_<wbr>agg</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#approximate-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Approximate Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Approximate Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approx_distinct-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_distinct(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">approx_<wbr>distinct<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_distinct-x-e-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_distinct(x, e) -&gt; bigint (JavaScript function)" class="md-ellipsis">approx_<wbr>distinct<wbr>(x, e) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-percentage-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, percentage) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, percentage) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-percentage-accuracy-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, percentage, accuracy) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, percentage, accuracy) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-percentages-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, percentages) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, percentages) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-percentages-accuracy-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, percentages, accuracy) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, percentages, accuracy) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-w-percentage-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, w, percentage) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, w, percentage) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-w-percentage-accuracy-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, w, percentage, accuracy) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, w, percentage, accuracy) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-w-percentages-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, w, percentages) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, w, percentages) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-w-percentages-accuracy-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, w, percentages, accuracy) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, w, percentages, accuracy) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_histogram-buckets-value-weight-map-double-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="numeric_histogram(buckets, value, weight) -&gt; map&lt;double, double&gt; (JavaScript function)" class="md-ellipsis">numeric_<wbr>histogram<wbr>(buckets, value, weight) -<wbr>&gt; map&lt;double, double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_histogram-buckets-value-map-double-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="numeric_histogram(buckets, value) -&gt; map&lt;double, double&gt; (JavaScript function)" class="md-ellipsis">numeric_<wbr>histogram<wbr>(buckets, value) -<wbr>&gt; map&lt;double, double&gt;</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#statistical-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Statistical Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Statistical Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#corr-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="corr(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">corr<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covar_pop-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="covar_pop(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">covar_<wbr>pop<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covar_samp-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="covar_samp(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">covar_<wbr>samp<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entropy-c-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="entropy(c) -&gt; double (JavaScript function)" class="md-ellipsis">entropy<wbr>(c) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kurtosis-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="kurtosis(x) -&gt; double (JavaScript function)" class="md-ellipsis">kurtosis<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_intercept-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_intercept(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>intercept<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_slope-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_slope(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>slope<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_avgx-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_avgx(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>avgx<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_avgy-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_avgy(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>avgy<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_count-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_count(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>count<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_r2-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_r2(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>r2<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_sxy-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_sxy(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>sxy<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_syy-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_syy(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>syy<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_sxx-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_sxx(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>sxx<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skewness-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="skewness(x) -&gt; double (JavaScript function)" class="md-ellipsis">skewness<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stddev-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="stddev(x) -&gt; double (JavaScript function)" class="md-ellipsis">stddev<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stddev_pop-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="stddev_pop(x) -&gt; double (JavaScript function)" class="md-ellipsis">stddev_<wbr>pop<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stddev_samp-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="stddev_samp(x) -&gt; double (JavaScript function)" class="md-ellipsis">stddev_<wbr>samp<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variance-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="variance(x) -&gt; double (JavaScript function)" class="md-ellipsis">variance<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#var_pop-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="var_pop(x) -&gt; double (JavaScript function)" class="md-ellipsis">var_<wbr>pop<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#var_samp-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="var_samp(x) -&gt; double (JavaScript function)" class="md-ellipsis">var_<wbr>samp<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#classification-metrics-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Classification Metrics Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Classification Metrics Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification_miss_rate-buckets-y-x-weight-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_miss_rate(buckets, y, x, weight) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>miss_<wbr>rate<wbr>(buckets, y, x, weight) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_miss_rate-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_miss_rate(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>miss_<wbr>rate<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_fall_out-buckets-y-x-weight-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_fall_out(buckets, y, x, weight) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>fall_<wbr>out<wbr>(buckets, y, x, weight) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_fall_out-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_fall_out(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>fall_<wbr>out<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_precision-buckets-y-x-weight-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_precision(buckets, y, x, weight) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>precision<wbr>(buckets, y, x, weight) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_precision-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_precision(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>precision<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_recall-buckets-y-x-weight-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_recall(buckets, y, x, weight) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>recall<wbr>(buckets, y, x, weight) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_recall-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_recall(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>recall<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_thresholds-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_thresholds(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>thresholds<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#differential-entropy-functions" class="md-nav__link">
    <span class="md-ellipsis">Differential Entropy Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Differential Entropy Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#differential_entropy" class="md-nav__link">
    <span class="md-ellipsis">differential_<wbr>entropy</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id0" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="differential_entropy (JavaScript function)" class="md-ellipsis">differential_<wbr>entropy</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differential_entropy-bucket_count-x-weight-method-min-max-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="differential_entropy(bucket_count, x, weight, method, min, max) -&gt; double (JavaScript function)" class="md-ellipsis">differential_<wbr>entropy<wbr>(bucket_<wbr>count, x, weight, method, min, max) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_most_frequent-buckets-value-capacity-map-same-as-value-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_most_frequent(buckets, value, capacity) -&gt; map&lt;[same as value], bigint&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>most_<wbr>frequent<wbr>(buckets, value, capacity) -<wbr>&gt; map&lt;<wbr>[same as value], bigint&gt;</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#reservoir-sample-functions" class="md-nav__link">
    <span class="md-ellipsis">Reservoir Sample Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Reservoir Sample Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reservoir_sample" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="reservoir_sample (JavaScript function)" class="md-ellipsis">reservoir_<wbr>sample</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#noisy-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Noisy Aggregate Functions</span>
  </a>
  
</li>
        
    </ul>
    
</nav>
      
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="noisy.html" class="md-nav__link">
        <span class="md-ellipsis">Noisy Aggregate Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="window.html" class="md-nav__link">
        <span class="md-ellipsis">Window Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="array.html" class="md-nav__link">
        <span class="md-ellipsis">Array Functions and Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="map.html" class="md-nav__link">
        <span class="md-ellipsis">Map Functions and Operators</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="url.html" class="md-nav__link">
        <span class="md-ellipsis">URL Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="ip.html" class="md-nav__link">
        <span class="md-ellipsis">IP Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="geospatial.html" class="md-nav__link">
        <span class="md-ellipsis">Geospatial Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="hyperloglog.html" class="md-nav__link">
        <span class="md-ellipsis">Hyper<wbr>Log<wbr>Log Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="khyperloglog.html" class="md-nav__link">
        <span class="md-ellipsis">KHyper<wbr>Log<wbr>Log Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="qdigest.html" class="md-nav__link">
        <span class="md-ellipsis">Quantile Digest Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="uuid.html" class="md-nav__link">
        <span class="md-ellipsis">UUID functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="tdigest.html" class="md-nav__link">
        <span class="md-ellipsis">T-<wbr>Digest Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="color.html" class="md-nav__link">
        <span class="md-ellipsis">Color Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="session.html" class="md-nav__link">
        <span class="md-ellipsis">Session Information</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="teradata.html" class="md-nav__link">
        <span class="md-ellipsis">Teradata Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="internationalization.html" class="md-nav__link">
        <span class="md-ellipsis">Internationalization Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="setdigest.html" class="md-nav__link">
        <span class="md-ellipsis">Set Digest functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="sketch.html" class="md-nav__link">
        <span class="md-ellipsis">Sketch Functions</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="pinot.html" class="md-nav__link">
        <span class="md-ellipsis">Pinot Functions</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../language.html" class="md-nav__link">
        <span class="md-ellipsis">SQL Language</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../sql.html" class="md-nav__link">
        <span class="md-ellipsis">SQL Statement Syntax</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../migration.html" class="md-nav__link">
        <span class="md-ellipsis">Migration</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../rest.html" class="md-nav__link">
        <span class="md-ellipsis">REST API</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../ecosystem.html" class="md-nav__link">
        <span class="md-ellipsis">Ecosystem</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../router.html" class="md-nav__link">
        <span class="md-ellipsis">Router</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../develop.html" class="md-nav__link">
        <span class="md-ellipsis">Developer Guide</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../presto-cpp.html" class="md-nav__link">
        <span class="md-ellipsis">Presto C++</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../release.html" class="md-nav__link">
        <span class="md-ellipsis">Release Notes</span>
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
        <li class="md-nav__item">
            <a href="https://github.com/prestodb/presto/blob/master/presto-docs/src/main/sphinx/functions/aggregate.rst" class="">
                <span class="md-source__icon md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"/></svg>
                </span>
                View Page Source
            </a>
        </li>
        <li class="md-nav__item">
            <a href="https://github.com/prestodb/presto/edit/master/presto-docs/src/main/sphinx/functions/aggregate.rst" class="">
                <span class="md-source__icon md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-1.9l10-10V8l-6-6H6m7 1.5L18.5 9H13V3.5m7.1 9.5c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-2 1.8L12 20.9V23h2.1l6.1-6.1-2.1-2.1Z"/></svg>
                </span>
                Edit this page
            </a>
        </li>
        <li class="md-nav__item">
            <a href="https://github.com/prestodb/presto/issues/new?title=Documentation&labels=docs"
                class="">
                <span class="md-source__icon md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M40 48c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zm152 16c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zm24 136c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24H40z"/></svg>
                </span>
                Create docs issue
            </a>
        </li>
        <li class="md-nav__item">
            <a href="https://github.com/prestodb/presto/issues/new" class="">
                <span class="md-source__icon  md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M40 48c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zm152 16c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h288c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zm24 136c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24H40z"/></svg>
                </span>
                Create project issue
            </a>
        </li>
    </ul>
    <hr>
    
    
    
    <label class="md-nav__title" for="__toc">
        <span class="md-nav__icon md-icon"></span>
        Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
        
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">Overview</span>
  </a>
  
</li>
        
        <li class="md-nav__item">
  <a href="#general-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">General Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="General Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#any_value-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="any_value(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">any_<wbr>value<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arbitrary-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="arbitrary(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">arbitrary<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array_agg-x-array-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="array_agg(x) -&gt; array&lt;[same as input]&gt; (JavaScript function)" class="md-ellipsis">array_<wbr>agg<wbr>(x) -<wbr>&gt; array&lt;<wbr>[same as input]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avg-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="avg(x) -&gt; double (JavaScript function)" class="md-ellipsis">avg<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#avg-time-interval-type-time-interval-type" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="avg(time interval type) -&gt; time interval type (JavaScript function)" class="md-ellipsis">avg<wbr>(time interval type) -<wbr>&gt; time interval type</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool_and-boolean-boolean" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bool_and(boolean) -&gt; boolean (JavaScript function)" class="md-ellipsis">bool_<wbr>and<wbr>(boolean) -<wbr>&gt; boolean</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bool_or-boolean-boolean" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bool_or(boolean) -&gt; boolean (JavaScript function)" class="md-ellipsis">bool_<wbr>or<wbr>(boolean) -<wbr>&gt; boolean</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checksum-x-varbinary" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="checksum(x) -&gt; varbinary (JavaScript function)" class="md-ellipsis">checksum<wbr>(x) -<wbr>&gt; varbinary</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="count(*) -&gt; bigint (JavaScript function)" class="md-ellipsis">count<wbr>(*) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="count(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">count<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#count_if-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="count_if(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">count_<wbr>if<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#every-boolean-boolean" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="every(boolean) -&gt; boolean (JavaScript function)" class="md-ellipsis">every<wbr>(boolean) -<wbr>&gt; boolean</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geometric_mean-bigint-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="geometric_mean(bigint) -&gt; double (JavaScript function)" class="md-ellipsis">geometric_<wbr>mean<wbr>(bigint) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max_by-x-y-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="max_by(x, y) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">max_<wbr>by<wbr>(x, y) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max_by-x-y-n-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="max_by(x, y, n) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">max_<wbr>by<wbr>(x, y, n) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min_by-x-y-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="min_by(x, y) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">min_<wbr>by<wbr>(x, y) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min_by-x-y-n-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="min_by(x, y, n) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">min_<wbr>by<wbr>(x, y, n) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="max(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">max<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-x-n-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="max(x, n) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">max<wbr>(x, n) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="min(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">min<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min-x-n-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="min(x, n) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">min<wbr>(x, n) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduce_agg-inputValue-T-initialState-S-inputFunction-S-T-S-combineFunction-S-S-S-S" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="reduce_agg(inputValue T, initialState S, inputFunction(S,T,S), combineFunction(S,S,S)) -&gt; S (JavaScript function)" class="md-ellipsis">reduce_<wbr>agg<wbr>(input<wbr>Value T, initial<wbr>State S, input<wbr>Function<wbr>(S,T,S), combine<wbr>Function<wbr>(S,S,S)) -<wbr>&gt; S</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_agg-x-array-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="set_agg(x) -&gt; array&lt;[same as input]&gt; (JavaScript function)" class="md-ellipsis">set_<wbr>agg<wbr>(x) -<wbr>&gt; array&lt;<wbr>[same as input]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_union" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="set_union (JavaScript function)" class="md-ellipsis">set_<wbr>union</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-x-same-as-input" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="sum(x) -&gt; [same as input] (JavaScript function)" class="md-ellipsis">sum<wbr>(x) -<wbr>&gt; <wbr>[same as input]</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#bitwise-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Bitwise Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Bitwise Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bitwise_and_agg-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bitwise_and_agg(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">bitwise_<wbr>and_<wbr>agg<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitwise_or_agg-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bitwise_or_agg(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">bitwise_<wbr>or_<wbr>agg<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitwise_xor_agg-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="bitwise_xor_agg(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">bitwise_<wbr>xor_<wbr>agg<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#map-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Map Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Map Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#histogram" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="histogram (JavaScript function)" class="md-ellipsis">histogram</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map_agg" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="map_agg (JavaScript function)" class="md-ellipsis">map_<wbr>agg</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map_union" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="map_union (JavaScript function)" class="md-ellipsis">map_<wbr>union</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map_union_sum" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="map_union_sum (JavaScript function)" class="md-ellipsis">map_<wbr>union_<wbr>sum</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multimap_agg" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="multimap_agg (JavaScript function)" class="md-ellipsis">multimap_<wbr>agg</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#approximate-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Approximate Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Approximate Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#approx_distinct-x-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_distinct(x) -&gt; bigint (JavaScript function)" class="md-ellipsis">approx_<wbr>distinct<wbr>(x) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_distinct-x-e-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_distinct(x, e) -&gt; bigint (JavaScript function)" class="md-ellipsis">approx_<wbr>distinct<wbr>(x, e) -<wbr>&gt; bigint</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-percentage-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, percentage) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, percentage) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-percentage-accuracy-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, percentage, accuracy) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, percentage, accuracy) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-percentages-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, percentages) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, percentages) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-percentages-accuracy-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, percentages, accuracy) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, percentages, accuracy) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-w-percentage-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, w, percentage) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, w, percentage) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-w-percentage-accuracy-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, w, percentage, accuracy) -&gt; [same as x] (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, w, percentage, accuracy) -<wbr>&gt; <wbr>[same as x]</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-w-percentages-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, w, percentages) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, w, percentages) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_percentile-x-w-percentages-accuracy-array-same-as-x" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_percentile(x, w, percentages, accuracy) -&gt; array&lt;[same as x]&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>percentile<wbr>(x, w, percentages, accuracy) -<wbr>&gt; array&lt;<wbr>[same as x]&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_histogram-buckets-value-weight-map-double-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="numeric_histogram(buckets, value, weight) -&gt; map&lt;double, double&gt; (JavaScript function)" class="md-ellipsis">numeric_<wbr>histogram<wbr>(buckets, value, weight) -<wbr>&gt; map&lt;double, double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_histogram-buckets-value-map-double-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="numeric_histogram(buckets, value) -&gt; map&lt;double, double&gt; (JavaScript function)" class="md-ellipsis">numeric_<wbr>histogram<wbr>(buckets, value) -<wbr>&gt; map&lt;double, double&gt;</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#statistical-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Statistical Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Statistical Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#corr-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="corr(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">corr<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covar_pop-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="covar_pop(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">covar_<wbr>pop<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covar_samp-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="covar_samp(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">covar_<wbr>samp<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entropy-c-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="entropy(c) -&gt; double (JavaScript function)" class="md-ellipsis">entropy<wbr>(c) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kurtosis-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="kurtosis(x) -&gt; double (JavaScript function)" class="md-ellipsis">kurtosis<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_intercept-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_intercept(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>intercept<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_slope-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_slope(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>slope<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_avgx-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_avgx(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>avgx<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_avgy-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_avgy(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>avgy<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_count-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_count(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>count<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_r2-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_r2(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>r2<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_sxy-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_sxy(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>sxy<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_syy-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_syy(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>syy<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regr_sxx-y-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="regr_sxx(y, x) -&gt; double (JavaScript function)" class="md-ellipsis">regr_<wbr>sxx<wbr>(y, x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skewness-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="skewness(x) -&gt; double (JavaScript function)" class="md-ellipsis">skewness<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stddev-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="stddev(x) -&gt; double (JavaScript function)" class="md-ellipsis">stddev<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stddev_pop-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="stddev_pop(x) -&gt; double (JavaScript function)" class="md-ellipsis">stddev_<wbr>pop<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stddev_samp-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="stddev_samp(x) -&gt; double (JavaScript function)" class="md-ellipsis">stddev_<wbr>samp<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variance-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="variance(x) -&gt; double (JavaScript function)" class="md-ellipsis">variance<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#var_pop-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="var_pop(x) -&gt; double (JavaScript function)" class="md-ellipsis">var_<wbr>pop<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#var_samp-x-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="var_samp(x) -&gt; double (JavaScript function)" class="md-ellipsis">var_<wbr>samp<wbr>(x) -<wbr>&gt; double</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#classification-metrics-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Classification Metrics Aggregate Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Classification Metrics Aggregate Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#classification_miss_rate-buckets-y-x-weight-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_miss_rate(buckets, y, x, weight) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>miss_<wbr>rate<wbr>(buckets, y, x, weight) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_miss_rate-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_miss_rate(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>miss_<wbr>rate<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_fall_out-buckets-y-x-weight-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_fall_out(buckets, y, x, weight) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>fall_<wbr>out<wbr>(buckets, y, x, weight) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_fall_out-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_fall_out(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>fall_<wbr>out<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_precision-buckets-y-x-weight-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_precision(buckets, y, x, weight) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>precision<wbr>(buckets, y, x, weight) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_precision-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_precision(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>precision<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_recall-buckets-y-x-weight-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_recall(buckets, y, x, weight) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>recall<wbr>(buckets, y, x, weight) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_recall-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_recall(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>recall<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification_thresholds-buckets-y-x-array-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="classification_thresholds(buckets, y, x) -&gt; array&lt;double&gt; (JavaScript function)" class="md-ellipsis">classification_<wbr>thresholds<wbr>(buckets, y, x) -<wbr>&gt; array&lt;double&gt;</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#differential-entropy-functions" class="md-nav__link">
    <span class="md-ellipsis">Differential Entropy Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Differential Entropy Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#differential_entropy" class="md-nav__link">
    <span class="md-ellipsis">differential_<wbr>entropy</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id0" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="differential_entropy (JavaScript function)" class="md-ellipsis">differential_<wbr>entropy</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differential_entropy-bucket_count-x-weight-method-min-max-double" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="differential_entropy(bucket_count, x, weight, method, min, max) -&gt; double (JavaScript function)" class="md-ellipsis">differential_<wbr>entropy<wbr>(bucket_<wbr>count, x, weight, method, min, max) -<wbr>&gt; double</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approx_most_frequent-buckets-value-capacity-map-same-as-value-bigint" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="approx_most_frequent(buckets, value, capacity) -&gt; map&lt;[same as value], bigint&gt; (JavaScript function)" class="md-ellipsis">approx_<wbr>most_<wbr>frequent<wbr>(buckets, value, capacity) -<wbr>&gt; map&lt;<wbr>[same as value], bigint&gt;</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#reservoir-sample-functions" class="md-nav__link">
    <span class="md-ellipsis">Reservoir Sample Functions</span>
  </a>
  
    <nav class="md-nav" aria-label="Reservoir Sample Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reservoir_sample" class="md-nav__link">
    <span aria-label="JavaScript function" class="objinfo-icon objinfo-icon__procedure" title="JavaScript function">M</span><span title="reservoir_sample (JavaScript function)" class="md-ellipsis">reservoir_<wbr>sample</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
        <li class="md-nav__item">
  <a href="#noisy-aggregate-functions" class="md-nav__link">
    <span class="md-ellipsis">Noisy Aggregate Functions</span>
  </a>
  
</li>
        
    </ul>
    
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


  <a href="https://github.com/prestodb/presto/blob/master/presto-docs/src/main/sphinx/functions/aggregate.rst" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>

<h1 id="aggregate-functions">Aggregate Functions<a class="headerlink" href="#aggregate-functions" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id8">Overview</a></p></li>
<li><p><a class="reference internal" href="#general-aggregate-functions" id="id9">General Aggregate Functions</a></p></li>
<li><p><a class="reference internal" href="#bitwise-aggregate-functions" id="id10">Bitwise Aggregate Functions</a></p></li>
<li><p><a class="reference internal" href="#map-aggregate-functions" id="id11">Map Aggregate Functions</a></p></li>
<li><p><a class="reference internal" href="#approximate-aggregate-functions" id="id12">Approximate Aggregate Functions</a></p></li>
<li><p><a class="reference internal" href="#statistical-aggregate-functions" id="id13">Statistical Aggregate Functions</a></p></li>
<li><p><a class="reference internal" href="#classification-metrics-aggregate-functions" id="id14">Classification Metrics Aggregate Functions</a></p></li>
<li><p><a class="reference internal" href="#differential-entropy-functions" id="id15">Differential Entropy Functions</a></p></li>
<li><p><a class="reference internal" href="#reservoir-sample-functions" id="id16">Reservoir Sample Functions</a></p></li>
<li><p><a class="reference internal" href="#noisy-aggregate-functions" id="id17">Noisy Aggregate Functions</a></p></li>
</ul>
</nav>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>Aggregate functions operate on a set of values to compute a single result.</p>
<p>Except for <code class="xref js js-func docutils literal notranslate"><span class="pre">count()</span></code>, <code class="xref js js-func docutils literal notranslate"><span class="pre">count_if()</span></code>, <code class="xref js js-func docutils literal notranslate"><span class="pre">max_by()</span></code>, <code class="xref js js-func docutils literal notranslate"><span class="pre">min_by()</span></code> and
<code class="xref js js-func docutils literal notranslate"><span class="pre">approx_distinct()</span></code>, all of these aggregate functions ignore null values
and return null for no input rows or when all values are null. For example,
<code class="xref js js-func docutils literal notranslate"><span class="pre">sum()</span></code> returns null rather than zero and <code class="xref js js-func docutils literal notranslate"><span class="pre">avg()</span></code> does not include null
values in the count. The <code class="docutils literal notranslate"><span class="pre">coalesce</span></code> function can be used to convert null into
zero.</p>
<p>Some aggregate functions such as <code class="xref js js-func docutils literal notranslate"><span class="pre">array_agg()</span></code> produce different results
depending on the order of input values. This ordering can be specified by writing
an <a class="reference internal" href="../sql/select.html#order-by-clause"><span class="std std-ref">ORDER BY Clause</span></a> within the aggregate function:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="n">array_agg</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k">DESC</span><span class="p">)</span>
<span class="n">array_agg</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">)</span>
</code></pre></div>
</div>
<h2 id="general-aggregate-functions">General Aggregate Functions<a class="headerlink" href="#general-aggregate-functions" title="Link to this heading">¶</a></h2>
<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="any_value-x-same-as-input">
<span class="sig-name descname"><span class="n"><span class="pre">any_value(x)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">input]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#any_value-x-same-as-input" title="Link to this definition">¶</a></dt>
<dd><p>This is an alias for <code class="xref js js-func docutils literal notranslate"><span class="pre">arbitrary()</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="arbitrary-x-same-as-input">
<span class="sig-name descname"><span class="n"><span class="pre">arbitrary(x)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">input]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arbitrary-x-same-as-input" title="Link to this definition">¶</a></dt>
<dd><p>Returns an arbitrary non-null value of <code class="docutils literal notranslate"><span class="pre">x</span></code>, if one exists.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="array_agg-x-array-same-as-input">
<span class="sig-name descname"><span class="n"><span class="pre">array_agg(x)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">input]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#array_agg-x-array-same-as-input" title="Link to this definition">¶</a></dt>
<dd><p>Returns an array created from the input <code class="docutils literal notranslate"><span class="pre">x</span></code> elements.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="avg-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">avg(x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#avg-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the average (arithmetic mean) of all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="avg-time-interval-type-time-interval-type">
<span class="sig-name descname"><span class="n"><span class="pre">avg(time</span> <span class="pre">interval</span> <span class="pre">type)</span> <span class="pre">-&gt;</span> <span class="pre">time</span> <span class="pre">interval</span> <span class="pre">type</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#avg-time-interval-type-time-interval-type" title="Link to this definition">¶</a></dt>
<dd><p>Returns the average interval length of all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="bool_and-boolean-boolean">
<span class="sig-name descname"><span class="n"><span class="pre">bool_and(boolean)</span> <span class="pre">-&gt;</span> <span class="pre">boolean</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bool_and-boolean-boolean" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> if every input value is <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>, otherwise <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="bool_or-boolean-boolean">
<span class="sig-name descname"><span class="n"><span class="pre">bool_or(boolean)</span> <span class="pre">-&gt;</span> <span class="pre">boolean</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bool_or-boolean-boolean" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> if any input value is <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>, otherwise <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="checksum-x-varbinary">
<span class="sig-name descname"><span class="n"><span class="pre">checksum(x)</span> <span class="pre">-&gt;</span> <span class="pre">varbinary</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#checksum-x-varbinary" title="Link to this definition">¶</a></dt>
<dd><p>Returns an order-insensitive checksum of the given values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="count-bigint">
<span class="sig-name descname"><span class="n"><span class="pre">count(*)</span> <span class="pre">-&gt;</span> <span class="pre">bigint</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#count-bigint" title="Link to this definition">¶</a></dt>
<dd><p>Returns the number of input rows.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="count-x-bigint">
<span class="sig-name descname"><span class="n"><span class="pre">count(x)</span> <span class="pre">-&gt;</span> <span class="pre">bigint</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#count-x-bigint" title="Link to this definition">¶</a></dt>
<dd><p>Returns the number of non-null input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="count_if-x-bigint">
<span class="sig-name descname"><span class="n"><span class="pre">count_if(x)</span> <span class="pre">-&gt;</span> <span class="pre">bigint</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#count_if-x-bigint" title="Link to this definition">¶</a></dt>
<dd><p>Returns the number of <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> input values.
This function is equivalent to <code class="docutils literal notranslate"><span class="pre">count(CASE</span> <span class="pre">WHEN</span> <span class="pre">x</span> <span class="pre">THEN</span> <span class="pre">1</span> <span class="pre">END)</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="every-boolean-boolean">
<span class="sig-name descname"><span class="n"><span class="pre">every(boolean)</span> <span class="pre">-&gt;</span> <span class="pre">boolean</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#every-boolean-boolean" title="Link to this definition">¶</a></dt>
<dd><p>This is an alias for <code class="xref js js-func docutils literal notranslate"><span class="pre">bool_and()</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="geometric_mean-bigint-double">
<span class="sig-name descname"><span class="n"><span class="pre">geometric_mean(bigint)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#geometric_mean-bigint-double" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object highlight js" id="geometric_mean-double-double">
<span class="sig-name descname"><span class="n"><span class="pre">geometric_mean(double)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#geometric_mean-double-double" title="Link to this definition">¶</a></dt>
<dt class="sig sig-object highlight js" id="geometric_mean-real-real">
<span class="sig-name descname"><span class="n"><span class="pre">geometric_mean(real)</span> <span class="pre">-&gt;</span> <span class="pre">real</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#geometric_mean-real-real" title="Link to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference external" href="https://en.wikipedia.org/wiki/Geometric_mean">geometric mean</a> of all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="max_by-x-y-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">max_by(x,</span> <span class="pre">y)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">x]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#max_by-x-y-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> associated with the maximum value of <code class="docutils literal notranslate"><span class="pre">y</span></code> over all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="max_by-x-y-n-array-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">max_by(x,</span> <span class="pre">y,</span> <span class="pre">n)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#max_by-x-y-n-array-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">n</span></code> values of <code class="docutils literal notranslate"><span class="pre">x</span></code> associated with the <code class="docutils literal notranslate"><span class="pre">n</span></code> largest of all input values of <code class="docutils literal notranslate"><span class="pre">y</span></code>
in descending order of <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="min_by-x-y-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">min_by(x,</span> <span class="pre">y)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">x]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#min_by-x-y-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> associated with the minimum value of <code class="docutils literal notranslate"><span class="pre">y</span></code> over all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="min_by-x-y-n-array-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">min_by(x,</span> <span class="pre">y,</span> <span class="pre">n)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#min_by-x-y-n-array-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">n</span></code> values of <code class="docutils literal notranslate"><span class="pre">x</span></code> associated with the <code class="docutils literal notranslate"><span class="pre">n</span></code> smallest of all input values of <code class="docutils literal notranslate"><span class="pre">y</span></code>
in ascending order of <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="max-x-same-as-input">
<span class="sig-name descname"><span class="n"><span class="pre">max(x)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">input]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#max-x-same-as-input" title="Link to this definition">¶</a></dt>
<dd><p>Returns the maximum value of all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="max-x-n-array-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">max(x,</span> <span class="pre">n)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#max-x-n-array-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">n</span></code> largest values of all input values of <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="min-x-same-as-input">
<span class="sig-name descname"><span class="n"><span class="pre">min(x)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">input]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#min-x-same-as-input" title="Link to this definition">¶</a></dt>
<dd><p>Returns the minimum value of all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="min-x-n-array-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">min(x,</span> <span class="pre">n)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#min-x-n-array-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">n</span></code> smallest values of all input values of <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight sig-wrap js" id="reduce_agg-inputValue-T-initialState-S-inputFunction-S-T-S-combineFunction-S-S-S-S">
<span class="sig-name descname"><span class="n"><span class="pre">reduce_agg(inputValue</span> <span class="pre">T,</span> <span class="pre">initialState</span> <span class="pre">S,</span> <span class="pre">inputFunction(S,T,S),</span> <span class="pre">combineFunction(S,S,S))</span> <span class="pre">-&gt;</span> <span class="pre">S</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#reduce_agg-inputValue-T-initialState-S-inputFunction-S-T-S-combineFunction-S-S-S-S" title="Link to this definition">¶</a></dt>
<dd><p>Reduces all input values into a single value. <code class="docutils literal notranslate"><span class="pre">inputFunction</span></code> will be invoked
for each input value. In addition to taking the input value, <code class="docutils literal notranslate"><span class="pre">inputFunction</span></code>
takes the current state, initially <code class="docutils literal notranslate"><span class="pre">initialState</span></code>, and returns the new state.
<code class="docutils literal notranslate"><span class="pre">combineFunction</span></code> will be invoked to combine two states into a new state.
The final state is returned. Throws an error if <code class="docutils literal notranslate"><span class="pre">initialState</span></code> is NULL.
The behavior is undefined if <code class="docutils literal notranslate"><span class="pre">inputFunction</span></code> or <code class="docutils literal notranslate"><span class="pre">combineFunction</span></code> return a NULL.</p>
<p>Take care when designing <code class="docutils literal notranslate"><span class="pre">initialState</span></code>, <code class="docutils literal notranslate"><span class="pre">inputFunction</span></code> and <code class="docutils literal notranslate"><span class="pre">combineFunction</span></code>.
These must support evaluating aggregation in a distributed manner using partial
aggregation on many nodes, followed by shuffle over group-by keys, followed by
final aggregation. Consider all possible values of state to ensure that
<code class="docutils literal notranslate"><span class="pre">combineFunction</span></code> is <a class="reference external" href="https://en.wikipedia.org/wiki/Commutative_property">commutative</a>
and <a class="reference external" href="https://en.wikipedia.org/wiki/Associative_property">associative</a>
operation with <code class="docutils literal notranslate"><span class="pre">initialState</span></code> as the
<a class="reference external" href="https://en.wikipedia.org/wiki/Identity_element">identity</a> value.</p>
<blockquote>
<div><p>combineFunction(s, initialState) = s for any s</p>
<p>combineFunction(s1, s2) = combineFunction(s2, s1) for any s1 and s2</p>
<p>combineFunction(s1, combineFunction(s2, s3)) = combineFunction(combineFunction(s1, s2), s3) for any s1, s2, s3</p>
</div></blockquote>
<p>In addition, make sure that the following holds for the inputFunction:</p>
<blockquote>
<div><p>inputFunction(inputFunction(initialState, x), y) = combineFunction(inputFunction(initialState, x), inputFunction(initialState, y)) for any x and y</p>
</div></blockquote>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">reduce_agg</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">VALUES</span>
<span class="w">        </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">)</span>
<span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="c1">-- (1, 9)</span>
<span class="c1">-- (2, 90)</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">reduce_agg</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">VALUES</span>
<span class="w">        </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">)</span>
<span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="c1">-- (1, 24)</span>
<span class="c1">-- (2, 24000)</span>
</code></pre></div>
</div>
<p>The state type must be a boolean, integer, floating-point, or date/time/interval.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="set_agg-x-array-same-as-input">
<span class="sig-name descname"><span class="n"><span class="pre">set_agg(x)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">input]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#set_agg-x-array-same-as-input" title="Link to this definition">¶</a></dt>
<dd><p>Returns an array created from the distinct input <code class="docutils literal notranslate"><span class="pre">x</span></code> elements.</p>
<p>If the input includes <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, <code class="docutils literal notranslate"><span class="pre">NULL</span></code> will be included in the returned array.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="set_union">
<span class="sig-name descname"><span class="n"><span class="pre">set_union</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">array(T))</span> <span class="pre">-&gt;</span> <span class="pre">array(T</span></span></em></span><span class="sig-paren">)</span><a class="headerlink" href="#set_union" title="Link to this definition">¶</a></dt>
<dd><p>Returns an array of all the distinct values contained in each array of the input.</p>
<p>When all inputs are <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, this function returns an empty array. If <code class="docutils literal notranslate"><span class="pre">NULL</span></code> is
an element of one of the input arrays, <code class="docutils literal notranslate"><span class="pre">NULL</span></code> will be included in the returned array.</p>
<p>Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">set_union</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">VALUES</span>
<span class="w">        </span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span>
<span class="w">        </span><span class="nb">ARRAY</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">elements</span><span class="p">);</span>
</code></pre></div>
</div>
<p>Returns ARRAY[1, 2, 3, 4]</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="sum-x-same-as-input">
<span class="sig-name descname"><span class="n"><span class="pre">sum(x)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">input]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sum-x-same-as-input" title="Link to this definition">¶</a></dt>
<dd><p>Returns the sum of all input values.</p>
</dd></dl>

<h2 id="bitwise-aggregate-functions">Bitwise Aggregate Functions<a class="headerlink" href="#bitwise-aggregate-functions" title="Link to this heading">¶</a></h2>
<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="bitwise_and_agg-x-bigint">
<span class="sig-name descname"><span class="n"><span class="pre">bitwise_and_agg(x)</span> <span class="pre">-&gt;</span> <span class="pre">bigint</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bitwise_and_agg-x-bigint" title="Link to this definition">¶</a></dt>
<dd><p>Returns the bitwise AND of all input values in 2’s complement representation.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="bitwise_or_agg-x-bigint">
<span class="sig-name descname"><span class="n"><span class="pre">bitwise_or_agg(x)</span> <span class="pre">-&gt;</span> <span class="pre">bigint</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bitwise_or_agg-x-bigint" title="Link to this definition">¶</a></dt>
<dd><p>Returns the bitwise OR of all input values in 2’s complement representation.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="bitwise_xor_agg-x-bigint">
<span class="sig-name descname"><span class="n"><span class="pre">bitwise_xor_agg(x)</span> <span class="pre">-&gt;</span> <span class="pre">bigint</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bitwise_xor_agg-x-bigint" title="Link to this definition">¶</a></dt>
<dd><p>Returns the bitwise XOR of all input values in 2’s complement representation.</p>
</dd></dl>

<h2 id="map-aggregate-functions">Map Aggregate Functions<a class="headerlink" href="#map-aggregate-functions" title="Link to this heading">¶</a></h2>
<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="histogram">
<span class="sig-name descname"><span class="n"><span class="pre">histogram</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">map(K</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">bigint</span></span></em></span><span class="sig-paren">)</span><a class="headerlink" href="#histogram" title="Link to this definition">¶</a></dt>
<dd><p>Returns a map containing the count of the number of times each input value occurs.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="map_agg">
<span class="sig-name descname"><span class="n"><span class="pre">map_agg</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">value)</span> <span class="pre">-&gt;</span> <span class="pre">map(K</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">V</span></span></em></span><span class="sig-paren">)</span><a class="headerlink" href="#map_agg" title="Link to this definition">¶</a></dt>
<dd><p>Returns a map created from the input <code class="docutils literal notranslate"><span class="pre">key</span></code> / <code class="docutils literal notranslate"><span class="pre">value</span></code> pairs.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="map_union">
<span class="sig-name descname"><span class="n"><span class="pre">map_union</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">x(K</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">V))</span> <span class="pre">-&gt;</span> <span class="pre">map(K</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">V</span></span></em></span><span class="sig-paren">)</span><a class="headerlink" href="#map_union" title="Link to this definition">¶</a></dt>
<dd><p>Returns the union of all the input maps. If a key is found in multiple
input maps, that key’s value in the resulting map comes from an arbitrary input map.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="map_union_sum">
<span class="sig-name descname"><span class="n"><span class="pre">map_union_sum</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">x(K</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">V))</span> <span class="pre">-&gt;</span> <span class="pre">map(K</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">V</span></span></em></span><span class="sig-paren">)</span><a class="headerlink" href="#map_union_sum" title="Link to this definition">¶</a></dt>
<dd><p>Returns the union of all the input maps summing the values of matching keys in all
the maps. All null values in the original maps are coalesced to 0.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="multimap_agg">
<span class="sig-name descname"><span class="n"><span class="pre">multimap_agg</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">value)</span> <span class="pre">-&gt;</span> <span class="pre">map(K</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">array(V)</span></span></em></span><span class="sig-paren">)</span><a class="headerlink" href="#multimap_agg" title="Link to this definition">¶</a></dt>
<dd><p>Returns a multimap created from the input <code class="docutils literal notranslate"><span class="pre">key</span></code> / <code class="docutils literal notranslate"><span class="pre">value</span></code> pairs.
Each key can be associated with multiple values.</p>
</dd></dl>

<h2 id="approximate-aggregate-functions">Approximate Aggregate Functions<a class="headerlink" href="#approximate-aggregate-functions" title="Link to this heading">¶</a></h2>
<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="approx_distinct-x-bigint">
<span class="sig-name descname"><span class="n"><span class="pre">approx_distinct(x)</span> <span class="pre">-&gt;</span> <span class="pre">bigint</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_distinct-x-bigint" title="Link to this definition">¶</a></dt>
<dd><p>Returns the approximate number of distinct input values.
This function provides an approximation of <code class="docutils literal notranslate"><span class="pre">count(DISTINCT</span> <span class="pre">x)</span></code>.
Zero is returned if all input values are null.</p>
<p>This function should produce a standard error of 2.3%, which is the
standard deviation of the (approximately normal) error distribution over
all possible sets. It does not guarantee an upper bound on the error for
any specific input set.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="approx_distinct-x-e-bigint">
<span class="sig-name descname"><span class="n"><span class="pre">approx_distinct(x,</span> <span class="pre">e)</span> <span class="pre">-&gt;</span> <span class="pre">bigint</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_distinct-x-e-bigint" title="Link to this definition">¶</a></dt>
<dd><p>Returns the approximate number of distinct input values.
This function provides an approximation of <code class="docutils literal notranslate"><span class="pre">count(DISTINCT</span> <span class="pre">x)</span></code>.
Zero is returned if all input values are null.</p>
<p>This function should produce a standard error of no more than <code class="docutils literal notranslate"><span class="pre">e</span></code>, which
is the standard deviation of the (approximately normal) error distribution
over all possible sets. It does not guarantee an upper bound on the error
for any specific input set. The current implementation of this function
requires that <code class="docutils literal notranslate"><span class="pre">e</span></code> be in the range of <code class="docutils literal notranslate"><span class="pre">[0.0040625,</span> <span class="pre">0.26000]</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="approx_percentile-x-percentage-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">approx_percentile(x,</span> <span class="pre">percentage)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">x]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_percentile-x-percentage-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns the approximate percentile for all input values of <code class="docutils literal notranslate"><span class="pre">x</span></code> at the
given <code class="docutils literal notranslate"><span class="pre">percentage</span></code>. The value of <code class="docutils literal notranslate"><span class="pre">percentage</span></code> must be between zero and
one and must be constant for all input rows.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="approx_percentile-x-percentage-accuracy-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">approx_percentile(x,</span> <span class="pre">percentage,</span> <span class="pre">accuracy)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">x]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_percentile-x-percentage-accuracy-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>As <code class="docutils literal notranslate"><span class="pre">approx_percentile(x,</span> <span class="pre">percentage)</span></code>, but with a maximum rank error of
<code class="docutils literal notranslate"><span class="pre">accuracy</span></code>. The value of <code class="docutils literal notranslate"><span class="pre">accuracy</span></code> must be between zero and one
(exclusive) and must be constant for all input rows. Note that a lower
“accuracy” is really a lower error threshold, and thus more accurate. The
default accuracy is <code class="docutils literal notranslate"><span class="pre">0.01</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="approx_percentile-x-percentages-array-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">approx_percentile(x,</span> <span class="pre">percentages)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_percentile-x-percentages-array-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns the approximate percentile for all input values of <code class="docutils literal notranslate"><span class="pre">x</span></code> at each of
the specified percentages. Each element of the <code class="docutils literal notranslate"><span class="pre">percentages</span></code> array must be
between zero and one, and the array must be constant for all input rows.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="approx_percentile-x-percentages-accuracy-array-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">approx_percentile(x,</span> <span class="pre">percentages,</span> <span class="pre">accuracy)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_percentile-x-percentages-accuracy-array-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>As <code class="docutils literal notranslate"><span class="pre">approx_percentile(x,</span> <span class="pre">percentages)</span></code>, but with a maximum rank error of
<code class="docutils literal notranslate"><span class="pre">accuracy</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="approx_percentile-x-w-percentage-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">approx_percentile(x,</span> <span class="pre">w,</span> <span class="pre">percentage)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">x]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_percentile-x-w-percentage-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns the approximate weighed percentile for all input values of <code class="docutils literal notranslate"><span class="pre">x</span></code>
using the per-item weight <code class="docutils literal notranslate"><span class="pre">w</span></code> at the percentage <code class="docutils literal notranslate"><span class="pre">p</span></code>. The weight must be
an integer value of at least one. It is effectively a replication count for
the value <code class="docutils literal notranslate"><span class="pre">x</span></code> in the percentile set. The value of <code class="docutils literal notranslate"><span class="pre">p</span></code> must be between
zero and one and must be constant for all input rows.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="approx_percentile-x-w-percentage-accuracy-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">approx_percentile(x,</span> <span class="pre">w,</span> <span class="pre">percentage,</span> <span class="pre">accuracy)</span> <span class="pre">-&gt;</span> <span class="pre">[same</span> <span class="pre">as</span> <span class="pre">x]</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_percentile-x-w-percentage-accuracy-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>As <code class="docutils literal notranslate"><span class="pre">approx_percentile(x,</span> <span class="pre">w,</span> <span class="pre">percentage)</span></code>, but with a maximum rank error of
<code class="docutils literal notranslate"><span class="pre">accuracy</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="approx_percentile-x-w-percentages-array-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">approx_percentile(x,</span> <span class="pre">w,</span> <span class="pre">percentages)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_percentile-x-w-percentages-array-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>Returns the approximate weighed percentile for all input values of <code class="docutils literal notranslate"><span class="pre">x</span></code>
using the per-item weight <code class="docutils literal notranslate"><span class="pre">w</span></code> at each of the given percentages specified
in the array. The weight must be an integer value of at least one. It is
effectively a replication count for the value <code class="docutils literal notranslate"><span class="pre">x</span></code> in the percentile set.
Each element of the array must be between zero and one, and the array must
be constant for all input rows.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight sig-wrap js" id="approx_percentile-x-w-percentages-accuracy-array-same-as-x">
<span class="sig-name descname"><span class="n"><span class="pre">approx_percentile(x,</span> <span class="pre">w,</span> <span class="pre">percentages,</span> <span class="pre">accuracy)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_percentile-x-w-percentages-accuracy-array-same-as-x" title="Link to this definition">¶</a></dt>
<dd><p>As <code class="docutils literal notranslate"><span class="pre">approx_percentile(x,</span> <span class="pre">w,</span> <span class="pre">percentages)</span></code>, but with a maximum rank error of
<code class="docutils literal notranslate"><span class="pre">accuracy</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js">
<span class="sig-name descname"><span class="n"><span class="pre">approx_set(x)</span> <span class="pre">-&gt;</span> <span class="pre">HyperLogLog</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>See <a class="reference internal" href="hyperloglog.html"><span class="doc">HyperLogLog Functions</span></a>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js">
<span class="sig-name descname"><span class="n"><span class="pre">merge(x)</span> <span class="pre">-&gt;</span> <span class="pre">HyperLogLog</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>See <a class="reference internal" href="hyperloglog.html"><span class="doc">HyperLogLog Functions</span></a>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js">
<span class="sig-name descname"><span class="n"><span class="pre">khyperloglog_agg(x)</span> <span class="pre">-&gt;</span> <span class="pre">KHyperLogLog</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>See <a class="reference internal" href="khyperloglog.html"><span class="doc">KHyperLogLog Functions</span></a>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js">
<span class="sig-name descname"><span class="n"><span class="pre">merge</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">qdigest(T))</span> <span class="pre">-&gt;</span> <span class="pre">qdigest(T</span></span></em></span><span class="sig-paren">)</span></dt>
<dd><p>See <a class="reference internal" href="qdigest.html"><span class="doc">Quantile Digest Functions</span></a>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js">
<span class="sig-name descname"><span class="n"><span class="pre">qdigest_agg(x)</span> <span class="pre">-&gt;</span> <span class="pre">qdigest&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>See <a class="reference internal" href="qdigest.html"><span class="doc">Quantile Digest Functions</span></a>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js">
<span class="sig-name descname"><span class="n"><span class="pre">qdigest_agg(x,</span> <span class="pre">w)</span> <span class="pre">-&gt;</span> <span class="pre">qdigest&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>See <a class="reference internal" href="qdigest.html"><span class="doc">Quantile Digest Functions</span></a>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js">
<span class="sig-name descname"><span class="n"><span class="pre">qdigest_agg(x,</span> <span class="pre">w,</span> <span class="pre">accuracy)</span> <span class="pre">-&gt;</span> <span class="pre">qdigest&lt;[same</span> <span class="pre">as</span> <span class="pre">x]&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>See <a class="reference internal" href="qdigest.html"><span class="doc">Quantile Digest Functions</span></a>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="numeric_histogram-buckets-value-weight-map-double-double">
<span class="sig-name descname"><span class="n"><span class="pre">numeric_histogram(buckets,</span> <span class="pre">value,</span> <span class="pre">weight)</span> <span class="pre">-&gt;</span> <span class="pre">map&lt;double,</span> <span class="pre">double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#numeric_histogram-buckets-value-weight-map-double-double" title="Link to this definition">¶</a></dt>
<dd><p>Computes an approximate histogram with up to <code class="docutils literal notranslate"><span class="pre">buckets</span></code> number of buckets
for all <code class="docutils literal notranslate"><span class="pre">value</span></code>s with a per-item weight of <code class="docutils literal notranslate"><span class="pre">weight</span></code>.  The keys of the
returned map are roughly the center of the bin, and the entry is the total
weight of the bin.  The algorithm is based loosely on <a class="reference internal" href="#benhaimtomtov2010" id="id1"><span>[BenHaimTomTov2010]</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">buckets</span></code> must be a <code class="docutils literal notranslate"><span class="pre">bigint</span></code>. <code class="docutils literal notranslate"><span class="pre">value</span></code> and <code class="docutils literal notranslate"><span class="pre">weight</span></code> must be numeric.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="numeric_histogram-buckets-value-map-double-double">
<span class="sig-name descname"><span class="n"><span class="pre">numeric_histogram(buckets,</span> <span class="pre">value)</span> <span class="pre">-&gt;</span> <span class="pre">map&lt;double,</span> <span class="pre">double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#numeric_histogram-buckets-value-map-double-double" title="Link to this definition">¶</a></dt>
<dd><p>Computes an approximate histogram with up to <code class="docutils literal notranslate"><span class="pre">buckets</span></code> number of buckets
for all <code class="docutils literal notranslate"><span class="pre">value</span></code>s. This function is equivalent to the variant of
<code class="xref js js-func docutils literal notranslate"><span class="pre">numeric_histogram()</span></code> that takes a <code class="docutils literal notranslate"><span class="pre">weight</span></code>, with a per-item weight of <code class="docutils literal notranslate"><span class="pre">1</span></code>.
In this case, the total weight in the returned map is the count of items in the bin.</p>
</dd></dl>

<h2 id="statistical-aggregate-functions">Statistical Aggregate Functions<a class="headerlink" href="#statistical-aggregate-functions" title="Link to this heading">¶</a></h2>
<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="corr-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">corr(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#corr-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns correlation coefficient of input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="covar_pop-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">covar_pop(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covar_pop-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the population covariance of input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="covar_samp-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">covar_samp(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#covar_samp-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the sample covariance of input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="entropy-c-double">
<span class="sig-name descname"><span class="n"><span class="pre">entropy(c)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#entropy-c-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the log-2 entropy of count input-values.</p>
<div class="math notranslate nohighlight">
\[\mathrm{entropy}(c) = \sum_i \left[ {c_i \over \sum_j [c_j]} \log_2\left({\sum_j [c_j] \over c_i}\right) \right].\]</div>
<p><code class="docutils literal notranslate"><span class="pre">c</span></code> must be a <code class="docutils literal notranslate"><span class="pre">bigint</span></code> column of non-negative values.</p>
<p>The function ignores any <code class="docutils literal notranslate"><span class="pre">NULL</span></code> count. If the sum of non-<code class="docutils literal notranslate"><span class="pre">NULL</span></code> counts is 0,
it returns 0.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="kurtosis-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">kurtosis(x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#kurtosis-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the excess kurtosis of all input values. Unbiased estimate using
the following expression:</p>
<div class="math notranslate nohighlight">
\[\mathrm{kurtosis}(x) = {n(n+1) \over (n-1)(n-2)(n-3)} { \sum[(x_i-\mu)^4] \over \sigma^4} -3{ (n-1)^2 \over (n-2)(n-3) }\]</div>
<p>where <span class="math notranslate nohighlight">\(\mu\)</span> is the mean, and <span class="math notranslate nohighlight">\(\sigma\)</span> is the standard deviation.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="regr_intercept-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">regr_intercept(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#regr_intercept-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns linear regression intercept of input values. <code class="docutils literal notranslate"><span class="pre">y</span></code> is the dependent
value. <code class="docutils literal notranslate"><span class="pre">x</span></code> is the independent value.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="regr_slope-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">regr_slope(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#regr_slope-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns linear regression slope of input values. <code class="docutils literal notranslate"><span class="pre">y</span></code> is the dependent
value. <code class="docutils literal notranslate"><span class="pre">x</span></code> is the independent value.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="regr_avgx-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">regr_avgx(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#regr_avgx-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the average of the independent value in a group. <code class="docutils literal notranslate"><span class="pre">y</span></code> is the dependent
value. <code class="docutils literal notranslate"><span class="pre">x</span></code> is the independent value.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="regr_avgy-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">regr_avgy(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#regr_avgy-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the average of the dependent value in a group. <code class="docutils literal notranslate"><span class="pre">y</span></code> is the dependent
value. <code class="docutils literal notranslate"><span class="pre">x</span></code> is the independent value.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="regr_count-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">regr_count(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#regr_count-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the number of non-null pairs of input values. <code class="docutils literal notranslate"><span class="pre">y</span></code> is the dependent
value. <code class="docutils literal notranslate"><span class="pre">x</span></code> is the independent value.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="regr_r2-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">regr_r2(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#regr_r2-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the coefficient of determination of the linear regression. <code class="docutils literal notranslate"><span class="pre">y</span></code> is the dependent
value. <code class="docutils literal notranslate"><span class="pre">x</span></code> is the independent value.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="regr_sxy-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">regr_sxy(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#regr_sxy-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the sum of the product of the dependent and independent values in a group. <code class="docutils literal notranslate"><span class="pre">y</span></code> is the dependent
value. <code class="docutils literal notranslate"><span class="pre">x</span></code> is the independent value.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="regr_syy-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">regr_syy(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#regr_syy-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the sum of the squares of the dependent values in a group. <code class="docutils literal notranslate"><span class="pre">y</span></code> is the dependent
value. <code class="docutils literal notranslate"><span class="pre">x</span></code> is the independent value.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="regr_sxx-y-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">regr_sxx(y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#regr_sxx-y-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the sum of the squares of the independent values in a group. <code class="docutils literal notranslate"><span class="pre">y</span></code> is the dependent
value. <code class="docutils literal notranslate"><span class="pre">x</span></code> is the independent value.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="skewness-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">skewness(x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skewness-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the skewness of all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="stddev-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">stddev(x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stddev-x-double" title="Link to this definition">¶</a></dt>
<dd><p>This is an alias for <code class="xref js js-func docutils literal notranslate"><span class="pre">stddev_samp()</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="stddev_pop-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">stddev_pop(x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stddev_pop-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the population standard deviation of all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="stddev_samp-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">stddev_samp(x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stddev_samp-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the sample standard deviation of all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="variance-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">variance(x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#variance-x-double" title="Link to this definition">¶</a></dt>
<dd><p>This is an alias for <code class="xref js js-func docutils literal notranslate"><span class="pre">var_samp()</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="var_pop-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">var_pop(x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#var_pop-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the population variance of all input values.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="var_samp-x-double">
<span class="sig-name descname"><span class="n"><span class="pre">var_samp(x)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#var_samp-x-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the sample variance of all input values.</p>
</dd></dl>

<h2 id="classification-metrics-aggregate-functions">Classification Metrics Aggregate Functions<a class="headerlink" href="#classification-metrics-aggregate-functions" title="Link to this heading">¶</a></h2>
<p>The following functions each measure how some metric of a binary
<a class="reference external" href="https://en.wikipedia.org/wiki/Confusion_matrix">confusion matrix</a> changes as a function of
classification thresholds. They are meant to be used in conjunction.</p>
<p>For example, to find the <a class="reference external" href="https://en.wikipedia.org/wiki/Precision_and_recall">precision-recall curve</a>, use</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code>WITH
    recall_precision AS (
        SELECT
            CLASSIFICATION_RECALL(10000, correct, pred) AS recalls,
            CLASSIFICATION_PRECISION(10000, correct, pred) AS precisions
        FROM
           classification_dataset
    )
SELECT
    recall,
    precision
FROM
    recall_precision
CROSS JOIN UNNEST(recalls, precisions) AS t(recall, precision)
</code></pre></div>
</div>
</div></blockquote>
<p>To get the corresponding thresholds for these values, use</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code>WITH
    recall_precision AS (
        SELECT
            CLASSIFICATION_THRESHOLDS(10000, correct, pred) AS thresholds,
            CLASSIFICATION_RECALL(10000, correct, pred) AS recalls,
            CLASSIFICATION_PRECISION(10000, correct, pred) AS precisions
        FROM
           classification_dataset
    )
SELECT
    threshold,
    recall,
    precision
FROM
    recall_precision
CROSS JOIN UNNEST(thresholds, recalls, precisions) AS t(threshold, recall, precision)
</code></pre></div>
</div>
</div></blockquote>
<p>To find the <a class="reference external" href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic">ROC curve</a>, use</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code>WITH
    fallout_recall AS (
        SELECT
            CLASSIFICATION_FALLOUT(10000, correct, pred) AS fallouts,
            CLASSIFICATION_RECALL(10000, correct, pred) AS recalls
        FROM
           classification_dataset
    )
SELECT
    fallout
    recall,
FROM
    recall_fallout
CROSS JOIN UNNEST(fallouts, recalls) AS t(fallout, recall)
</code></pre></div>
</div>
</div></blockquote>
<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="classification_miss_rate-buckets-y-x-weight-array-double">
<span class="sig-name descname"><span class="n"><span class="pre">classification_miss_rate(buckets,</span> <span class="pre">y,</span> <span class="pre">x,</span> <span class="pre">weight)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classification_miss_rate-buckets-y-x-weight-array-double" title="Link to this definition">¶</a></dt>
<dd><p>Computes the miss-rate with up to <code class="docutils literal notranslate"><span class="pre">buckets</span></code> number of buckets. Returns
an array of miss-rate values.</p>
<p><code class="docutils literal notranslate"><span class="pre">y</span></code> should be a boolean outcome value; <code class="docutils literal notranslate"><span class="pre">x</span></code> should be predictions, each
between 0 and 1; <code class="docutils literal notranslate"><span class="pre">weight</span></code> should be non-negative values, indicating the weight of the instance.</p>
<p>The
<a class="reference external" href="https://en.wikipedia.org/wiki/Type_I_and_type_II_errors#False_positive_and_false_negative_rates">miss-rate</a>
is defined as a sequence whose <span class="math notranslate nohighlight">\(j\)</span>-th entry is</p>
<div class="math notranslate nohighlight">
\[{
    \sum_{i \;|\; x_i \leq t_j \bigwedge y_i = 1} \left[ w_i \right]
    \over
    \sum_{i \;|\; x_i \leq t_j \bigwedge y_i = 1} \left[ w_i \right]
    +
    \sum_{i \;|\; x_i &gt; t_j \bigwedge y_i = 1} \left[ w_i \right]
},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_j\)</span> is the <span class="math notranslate nohighlight">\(j\)</span>-th smallest threshold,
and <span class="math notranslate nohighlight">\(y_i\)</span>, <span class="math notranslate nohighlight">\(x_i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> are the <span class="math notranslate nohighlight">\(i\)</span>-th
entries of <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code>, and <code class="docutils literal notranslate"><span class="pre">weight</span></code>, respectively.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="classification_miss_rate-buckets-y-x-array-double">
<span class="sig-name descname"><span class="n"><span class="pre">classification_miss_rate(buckets,</span> <span class="pre">y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classification_miss_rate-buckets-y-x-array-double" title="Link to this definition">¶</a></dt>
<dd><p>This function is equivalent to the variant of
<code class="xref js js-func docutils literal notranslate"><span class="pre">classification_miss_rate()</span></code> that takes a <code class="docutils literal notranslate"><span class="pre">weight</span></code>, with a per-item weight of <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="classification_fall_out-buckets-y-x-weight-array-double">
<span class="sig-name descname"><span class="n"><span class="pre">classification_fall_out(buckets,</span> <span class="pre">y,</span> <span class="pre">x,</span> <span class="pre">weight)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classification_fall_out-buckets-y-x-weight-array-double" title="Link to this definition">¶</a></dt>
<dd><p>Computes the fall-out with up to <code class="docutils literal notranslate"><span class="pre">buckets</span></code> number of buckets. Returns
an array of fall-out values.</p>
<p><code class="docutils literal notranslate"><span class="pre">y</span></code> should be a boolean outcome value; <code class="docutils literal notranslate"><span class="pre">x</span></code> should be predictions, each
between 0 and 1; <code class="docutils literal notranslate"><span class="pre">weight</span></code> should be non-negative values, indicating the weight of the instance.</p>
<p>The
<a class="reference external" href="https://en.wikipedia.org/wiki/Information_retrieval#Fall-out">fall-out</a>
is defined as a sequence whose <span class="math notranslate nohighlight">\(j\)</span>-th entry is</p>
<div class="math notranslate nohighlight">
\[{
    \sum_{i \;|\; x_i &gt; t_j \bigwedge y_i = 0} \left[ w_i \right]
    \over
    \sum_{i \;|\; y_i = 0} \left[ w_i \right]
},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_j\)</span> is the <span class="math notranslate nohighlight">\(j\)</span>-th smallest threshold,
and <span class="math notranslate nohighlight">\(y_i\)</span>, <span class="math notranslate nohighlight">\(x_i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> are the <span class="math notranslate nohighlight">\(i\)</span>-th
entries of <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code>, and <code class="docutils literal notranslate"><span class="pre">weight</span></code>, respectively.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="classification_fall_out-buckets-y-x-array-double">
<span class="sig-name descname"><span class="n"><span class="pre">classification_fall_out(buckets,</span> <span class="pre">y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classification_fall_out-buckets-y-x-array-double" title="Link to this definition">¶</a></dt>
<dd><p>This function is equivalent to the variant of
<code class="xref js js-func docutils literal notranslate"><span class="pre">classification_fall_out()</span></code> that takes a <code class="docutils literal notranslate"><span class="pre">weight</span></code>, with a per-item weight of <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="classification_precision-buckets-y-x-weight-array-double">
<span class="sig-name descname"><span class="n"><span class="pre">classification_precision(buckets,</span> <span class="pre">y,</span> <span class="pre">x,</span> <span class="pre">weight)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classification_precision-buckets-y-x-weight-array-double" title="Link to this definition">¶</a></dt>
<dd><p>Computes the precision with up to <code class="docutils literal notranslate"><span class="pre">buckets</span></code> number of buckets. Returns
an array of precision values.</p>
<p><code class="docutils literal notranslate"><span class="pre">y</span></code> should be a boolean outcome value; <code class="docutils literal notranslate"><span class="pre">x</span></code> should be predictions, each
between 0 and 1; <code class="docutils literal notranslate"><span class="pre">weight</span></code> should be non-negative values, indicating the weight of the instance.</p>
<p>The
<a class="reference external" href="https://en.wikipedia.org/wiki/Positive_and_negative_predictive_values">precision</a>
is defined as a sequence whose <span class="math notranslate nohighlight">\(j\)</span>-th entry is</p>
<div class="math notranslate nohighlight">
\[{
    \sum_{i \;|\; x_i &gt; t_j \bigwedge y_i = 1} \left[ w_i \right]
    \over
    \sum_{i \;|\; x_i &gt; t_j} \left[ w_i \right]
},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_j\)</span> is the <span class="math notranslate nohighlight">\(j\)</span>-th smallest threshold,
and <span class="math notranslate nohighlight">\(y_i\)</span>, <span class="math notranslate nohighlight">\(x_i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> are the <span class="math notranslate nohighlight">\(i\)</span>-th
entries of <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code>, and <code class="docutils literal notranslate"><span class="pre">weight</span></code>, respectively.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="classification_precision-buckets-y-x-array-double">
<span class="sig-name descname"><span class="n"><span class="pre">classification_precision(buckets,</span> <span class="pre">y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classification_precision-buckets-y-x-array-double" title="Link to this definition">¶</a></dt>
<dd><p>This function is equivalent to the variant of
<code class="xref js js-func docutils literal notranslate"><span class="pre">classification_precision()</span></code> that takes a <code class="docutils literal notranslate"><span class="pre">weight</span></code>, with a per-item weight of <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="classification_recall-buckets-y-x-weight-array-double">
<span class="sig-name descname"><span class="n"><span class="pre">classification_recall(buckets,</span> <span class="pre">y,</span> <span class="pre">x,</span> <span class="pre">weight)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classification_recall-buckets-y-x-weight-array-double" title="Link to this definition">¶</a></dt>
<dd><p>Computes the recall with up to <code class="docutils literal notranslate"><span class="pre">buckets</span></code> number of buckets. Returns
an array of recall values.</p>
<p><code class="docutils literal notranslate"><span class="pre">y</span></code> should be a boolean outcome value; <code class="docutils literal notranslate"><span class="pre">x</span></code> should be predictions, each
between 0 and 1; <code class="docutils literal notranslate"><span class="pre">weight</span></code> should be non-negative values, indicating the weight of the instance.</p>
<p>The
<a class="reference external" href="https://en.wikipedia.org/wiki/Precision_and_recall#Recall">recall</a>
is defined as a sequence whose <span class="math notranslate nohighlight">\(j\)</span>-th entry is</p>
<div class="math notranslate nohighlight">
\[{
    \sum_{i \;|\; x_i &gt; t_j \bigwedge y_i = 1} \left[ w_i \right]
    \over
    \sum_{i \;|\; y_i = 1} \left[ w_i \right]
},\]</div>
<p>where <span class="math notranslate nohighlight">\(t_j\)</span> is the <span class="math notranslate nohighlight">\(j\)</span>-th smallest threshold,
and <span class="math notranslate nohighlight">\(y_i\)</span>, <span class="math notranslate nohighlight">\(x_i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> are the <span class="math notranslate nohighlight">\(i\)</span>-th
entries of <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code>, and <code class="docutils literal notranslate"><span class="pre">weight</span></code>, respectively.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="classification_recall-buckets-y-x-array-double">
<span class="sig-name descname"><span class="n"><span class="pre">classification_recall(buckets,</span> <span class="pre">y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classification_recall-buckets-y-x-array-double" title="Link to this definition">¶</a></dt>
<dd><p>This function is equivalent to the variant of
<code class="xref js js-func docutils literal notranslate"><span class="pre">classification_recall()</span></code> that takes a <code class="docutils literal notranslate"><span class="pre">weight</span></code>, with a per-item weight of <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="classification_thresholds-buckets-y-x-array-double">
<span class="sig-name descname"><span class="n"><span class="pre">classification_thresholds(buckets,</span> <span class="pre">y,</span> <span class="pre">x)</span> <span class="pre">-&gt;</span> <span class="pre">array&lt;double&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classification_thresholds-buckets-y-x-array-double" title="Link to this definition">¶</a></dt>
<dd><p>Computes the thresholds with up to <code class="docutils literal notranslate"><span class="pre">buckets</span></code> number of buckets. Returns
an array of threshold values.</p>
<p><code class="docutils literal notranslate"><span class="pre">y</span></code> should be a boolean outcome value; <code class="docutils literal notranslate"><span class="pre">x</span></code> should be predictions, each
between 0 and 1.</p>
<p>The thresholds are defined as a sequence whose <span class="math notranslate nohighlight">\(j\)</span>-th entry is the <span class="math notranslate nohighlight">\(j\)</span>-th smallest threshold.</p>
</dd></dl>

<h2 id="differential-entropy-functions">Differential Entropy Functions<a class="headerlink" href="#differential-entropy-functions" title="Link to this heading">¶</a></h2>
<p>The following functions approximate the binary <a class="reference external" href="https://en.wikipedia.org/wiki/Differential_entropy">differential entropy</a>.
That is, for a random variable <span class="math notranslate nohighlight">\(x\)</span>, they approximate</p>
<div class="math notranslate nohighlight">
\[h(x) = - \int x \log_2\left(f(x)\right) dx,\]</div>
<p>where <span class="math notranslate nohighlight">\(f(x)\)</span> is the partial density function of <span class="math notranslate nohighlight">\(x\)</span>.</p>
<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="differential_entropy">
<span class="sig-name descname"><span class="n"><span class="pre">differential_entropy</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">sample_size</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">x</span></span></em></span><span class="sig-paren">)</span><a class="headerlink" href="#differential_entropy" title="Link to this definition">¶</a></dt>
<dd><p>Returns the approximate log-2 differential entropy from a random variable’s sample outcomes. The function internally
creates a reservoir (see <a class="reference internal" href="#black2015" id="id2"><span>[Black2015]</span></a>), then calculates the
entropy from the sample results by approximating the derivative of the cumulative distribution
(see <a class="reference internal" href="#alizadeh2010" id="id3"><span>[Alizadeh2010]</span></a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">sample_size</span></code> (<code class="docutils literal notranslate"><span class="pre">long</span></code>) is the maximal number of reservoir samples.</p>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code> (<code class="docutils literal notranslate"><span class="pre">double</span></code>) is the samples.</p>
<p>For example, to find the differential entropy of <code class="docutils literal notranslate"><span class="pre">x</span></code> of <code class="docutils literal notranslate"><span class="pre">data</span></code> using 1000000 reservoir samples, use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code>SELECT
    differential_entropy(1000000, x)
FROM
    data
</code></pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>If <span class="math notranslate nohighlight">\(x\)</span> has a known lower and upper bound,
prefer the versions taking <code class="docutils literal notranslate"><span class="pre">(bucket_count,</span> <span class="pre">x,</span> <span class="pre">1.0,</span> <span class="pre">&quot;fixed_histogram_mle&quot;,</span> <span class="pre">min,</span> <span class="pre">max)</span></code>,
or <code class="docutils literal notranslate"><span class="pre">(bucket_count,</span> <span class="pre">x,</span> <span class="pre">1.0,</span> <span class="pre">&quot;fixed_histogram_jacknife&quot;,</span> <span class="pre">min,</span> <span class="pre">max)</span></code>,
as they have better convergence.</p>
</div>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight js" id="id0">
<span class="sig-name descname"><span class="n"><span class="pre">differential_entropy</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">sample_size</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">weight</span></span></em></span><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Link to this definition">¶</a></dt>
<dd><p>Returns the approximate log-2 differential entropy from a random variable’s sample outcomes. The function
internally creates a weighted reservoir (see <a class="reference internal" href="#efraimidis2006" id="id4"><span>[Efraimidis2006]</span></a>), then calculates the
entropy from the sample results by approximating the derivative of the cumulative distribution
(see <a class="reference internal" href="#alizadeh2010" id="id5"><span>[Alizadeh2010]</span></a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">sample_size</span></code> is the maximal number of reservoir samples.</p>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code> (<code class="docutils literal notranslate"><span class="pre">double</span></code>) is the samples.</p>
<p><code class="docutils literal notranslate"><span class="pre">weight</span></code> (<code class="docutils literal notranslate"><span class="pre">double</span></code>) is a non-negative double value indicating the weight of the sample.</p>
<p>For example, to find the differential entropy of <code class="docutils literal notranslate"><span class="pre">x</span></code> with weights <code class="docutils literal notranslate"><span class="pre">weight</span></code> of <code class="docutils literal notranslate"><span class="pre">data</span></code>
using 1000000 reservoir samples, use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code>SELECT
    differential_entropy(1000000, x, weight)
FROM
    data
</code></pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>If <span class="math notranslate nohighlight">\(x\)</span> has a known lower and upper bound,
prefer the versions taking <code class="docutils literal notranslate"><span class="pre">(bucket_count,</span> <span class="pre">x,</span> <span class="pre">weight,</span> <span class="pre">&quot;fixed_histogram_mle&quot;,</span> <span class="pre">min,</span> <span class="pre">max)</span></code>,
or <code class="docutils literal notranslate"><span class="pre">(bucket_count,</span> <span class="pre">x,</span> <span class="pre">weight,</span> <span class="pre">&quot;fixed_histogram_jacknife&quot;,</span> <span class="pre">min,</span> <span class="pre">max)</span></code>,
as they have better convergence.</p>
</div>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight sig-wrap js" id="differential_entropy-bucket_count-x-weight-method-min-max-double">
<span class="sig-name descname"><span class="n"><span class="pre">differential_entropy(bucket_count,</span> <span class="pre">x,</span> <span class="pre">weight,</span> <span class="pre">method,</span> <span class="pre">min,</span> <span class="pre">max)</span> <span class="pre">-&gt;</span> <span class="pre">double</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#differential_entropy-bucket_count-x-weight-method-min-max-double" title="Link to this definition">¶</a></dt>
<dd><p>Returns the approximate log-2 differential entropy from a random variable’s sample outcomes. The function
internally creates a conceptual histogram of the sample values, calculates the counts, and
then approximates the entropy using maximum likelihood with or without Jacknife
correction, based on the <code class="docutils literal notranslate"><span class="pre">method</span></code> parameter. If Jacknife correction (see <a class="reference internal" href="#beirlant2001" id="id6"><span>[Beirlant2001]</span></a>) is used, the
estimate is</p>
<div class="math notranslate nohighlight">
\[n H(x) - (n - 1) \sum_{i = 1}^n H\left(x_{(i)}\right)\]</div>
<p>where <span class="math notranslate nohighlight">\(n\)</span> is the length of the sequence, and <span class="math notranslate nohighlight">\(x_{(i)}\)</span> is the sequence with the <span class="math notranslate nohighlight">\(i\)</span>-th element
removed.</p>
<p><code class="docutils literal notranslate"><span class="pre">bucket_count</span></code> (<code class="docutils literal notranslate"><span class="pre">long</span></code>) determines the number of histogram buckets.</p>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code> (<code class="docutils literal notranslate"><span class="pre">double</span></code>) is the samples.</p>
<p><code class="docutils literal notranslate"><span class="pre">method</span></code> (<code class="docutils literal notranslate"><span class="pre">varchar</span></code>) is either <code class="docutils literal notranslate"><span class="pre">'fixed_histogram_mle'</span></code> (for the maximum likelihood estimate)
or <code class="docutils literal notranslate"><span class="pre">'fixed_histogram_jacknife'</span></code> (for the jacknife-corrected maximum likelihood estimate).</p>
<p><code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> (both <code class="docutils literal notranslate"><span class="pre">double</span></code>) are the minimal and maximal values, respectively;
the function will throw if there is an input outside this range.</p>
<p><code class="docutils literal notranslate"><span class="pre">weight</span></code> (<code class="docutils literal notranslate"><span class="pre">double</span></code>) is the weight of the sample, and must be non-negative.</p>
<p>For example, to find the differential entropy of <code class="docutils literal notranslate"><span class="pre">x</span></code>, each between <code class="docutils literal notranslate"><span class="pre">0.0</span></code> and <code class="docutils literal notranslate"><span class="pre">1.0</span></code>,
with weights 1.0 of <code class="docutils literal notranslate"><span class="pre">data</span></code> using 1000000 bins and jacknife estimates, use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code>SELECT
    differential_entropy(1000000, x, 1.0, &#39;fixed_histogram_jacknife&#39;, 0.0, 1.0)
FROM
    data
</code></pre></div>
</div>
<p>To find the differential entropy of <code class="docutils literal notranslate"><span class="pre">x</span></code>, each between <code class="docutils literal notranslate"><span class="pre">-2.0</span></code> and <code class="docutils literal notranslate"><span class="pre">2.0</span></code>,
with weights <code class="docutils literal notranslate"><span class="pre">weight</span></code> of <code class="docutils literal notranslate"><span class="pre">data</span></code> using 1000000 buckets and maximum-likelihood estimates, use</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code>SELECT
    differential_entropy(1000000, x, weight, &#39;fixed_histogram_mle&#39;, -2.0, 2.0)
FROM
    data
</code></pre></div>
</div>
</div></blockquote>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>If <span class="math notranslate nohighlight">\(x\)</span> doesn’t have known lower and upper bounds, prefer the versions taking <code class="docutils literal notranslate"><span class="pre">(sample_size,</span> <span class="pre">x)</span></code>
(unweighted case) or <code class="docutils literal notranslate"><span class="pre">(sample_size,</span> <span class="pre">x,</span> <span class="pre">weight)</span></code> (weighted case), as they use reservoir
sampling which doesn’t require a known range for samples.</p>
<p>Otherwise, if the number of distinct weights is low,
especially if the number of samples is low, consider using the version taking
<code class="docutils literal notranslate"><span class="pre">(bucket_count,</span> <span class="pre">x,</span> <span class="pre">weight,</span> <span class="pre">&quot;fixed_histogram_jacknife&quot;,</span> <span class="pre">min,</span> <span class="pre">max)</span></code>, as jacknife bias correction,
is better than maximum likelihood estimation. However, if the number of distinct weights is high,
consider using the version taking <code class="docutils literal notranslate"><span class="pre">(bucket_count,</span> <span class="pre">x,</span> <span class="pre">weight,</span> <span class="pre">&quot;fixed_histogram_mle&quot;,</span> <span class="pre">min,</span> <span class="pre">max)</span></code>,
as this will reduce memory and running time.</p>
</div>
</dd></dl>

<dl class="js function objdesc">
<dt class="sig sig-object highlight sig-wrap js" id="approx_most_frequent-buckets-value-capacity-map-same-as-value-bigint">
<span class="sig-name descname"><span class="n"><span class="pre">approx_most_frequent(buckets,</span> <span class="pre">value,</span> <span class="pre">capacity)</span> <span class="pre">-&gt;</span> <span class="pre">map&lt;[same</span> <span class="pre">as</span> <span class="pre">value],</span> <span class="pre">bigint&gt;</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#approx_most_frequent-buckets-value-capacity-map-same-as-value-bigint" title="Link to this definition">¶</a></dt>
<dd><p>Computes the top frequent values up to <code class="docutils literal notranslate"><span class="pre">buckets</span></code> elements approximately.
Approximate estimation of the function enables us to pick up the frequent
values with less memory. Larger <code class="docutils literal notranslate"><span class="pre">capacity</span></code> improves the accuracy of
underlying algorithm with sacrificing the memory capacity. The returned
value is a map containing the top elements with corresponding estimated
frequency.</p>
<p>The error of the function depends on the permutation of the values and its
cardinality. We can set the capacity same as the cardinality of the
underlying data to achieve the least error.</p>
<p><code class="docutils literal notranslate"><span class="pre">buckets</span></code> and <code class="docutils literal notranslate"><span class="pre">capacity</span></code> must be <code class="docutils literal notranslate"><span class="pre">bigint</span></code>. <code class="docutils literal notranslate"><span class="pre">value</span></code> can be numeric
or string type.</p>
<p>The function uses the stream summary data structure proposed in the paper
<a class="reference external" href="https://www.cse.ust.hk/~raywong/comp5331/References/EfficientComputationOfFrequentAndTop-kElementsInDataStreams.pdf">Efficient computation of frequent and top-k elements in data streams</a> by A.Metwally, D.Agrawal and A.Abbadi.</p>
</dd></dl>

<h2 id="reservoir-sample-functions">Reservoir Sample Functions<a class="headerlink" href="#reservoir-sample-functions" title="Link to this heading">¶</a></h2>
<p>Reservoir sample functions use a fixed sample size, as opposed to
<a class="reference internal" href="../sql/select.html#sql-tablesample"><span class="std std-ref">TABLESAMPLE</span></a>. Fixed sample sizes always result in a
fixed total size while still guaranteeing that each record in dataset has an
equal probability of being chosen. See <a class="reference internal" href="#vitter1985" id="id7"><span>[Vitter1985]</span></a>.</p>
<dl class="js function objdesc">
<dt class="sig sig-object highlight sig-wrap js" id="reservoir_sample">
<span class="sig-name descname"><span class="n"><span class="pre">reservoir_sample</span></span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">initial_sample:</span> <span class="pre">array(T)</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">initial_processed_count:</span> <span class="pre">bigint</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">values_to_sample:</span> <span class="pre">T</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">desired_sample_size:</span> <span class="pre">int)</span> <span class="pre">-&gt;</span> <span class="pre">row(processed_count:</span> <span class="pre">bigint</span></span></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="n"><span class="pre">sample:</span> <span class="pre">array(T)</span></span></em></span><span class="sig-paren">)</span><a class="headerlink" href="#reservoir_sample" title="Link to this definition">¶</a></dt>
<dd><p>Computes a new reservoir sample given:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">initial_sample</span></code>: an initial sample array, or <code class="docutils literal notranslate"><span class="pre">NULL</span></code> if creating a new
sample.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">initial_processed_count</span></code>: the number of records processed to generate
the initial sample array. This should be 0 or <code class="docutils literal notranslate"><span class="pre">NULL</span></code> if
<code class="docutils literal notranslate"><span class="pre">initital_sample</span></code> is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">values_to_sample</span></code>: the column to sample from.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">desired_sample_size</span></code>: the size of reservoir sample.</p></li>
</ul>
<p>The function outputs a single row type with two columns:</p>
<ol class="arabic simple">
<li><p>Processed count: The total number of rows the function sampled
from. It includes the total from the <code class="docutils literal notranslate"><span class="pre">initial_processed_count</span></code>,
if provided.</p></li>
<li><p>Reservoir sample: An array with length equivalent to the minimum of
<code class="docutils literal notranslate"><span class="pre">desired_sample_size</span></code> and the number of values in the
<code class="docutils literal notranslate"><span class="pre">values_to_sample</span></code> argument.</p></li>
</ol>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">WITH</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span>
<span class="w">        </span><span class="n">reservoir_sample</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">reservoir</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k">VALUES</span>
<span class="w">        </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="p">)</span>
<span class="k">SELECT</span>
<span class="w">    </span><span class="n">reservoir</span><span class="p">.</span><span class="n">processed_count</span><span class="p">,</span><span class="w"> </span><span class="n">reservoir</span><span class="p">.</span><span class="n">sample</span>
<span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code> processed_count |     sample
-----------------+-----------------
              10 | [1, 2, 8, 4, 5]
</code></pre></div>
</div>
<p>To merge older samples with new data, supply valid arguments to the
<code class="docutils literal notranslate"><span class="pre">initial_sample</span></code> argument and <code class="docutils literal notranslate"><span class="pre">initial_processed_count</span></code> arguments.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">WITH</span><span class="w"> </span><span class="n">initial_sample</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span>
<span class="w">        </span><span class="n">reservoir_sample</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">reservoir</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k">VALUES</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="p">),</span>
<span class="n">new_sample</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span>
<span class="w">        </span><span class="n">reservoir_sample</span><span class="p">(</span>
<span class="w">            </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">reservoir</span><span class="p">.</span><span class="n">sample</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">initial_sample</span><span class="p">),</span>
<span class="w">            </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">reservoir</span><span class="p">.</span><span class="n">processed_count</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">initial_sample</span><span class="p">),</span>
<span class="w">            </span><span class="n">col</span><span class="p">,</span>
<span class="w">            </span><span class="mi">3</span>
<span class="w">        </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k">VALUES</span>
<span class="w">        </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="p">)</span>
<span class="k">SELECT</span>
<span class="w">    </span><span class="k">result</span><span class="p">.</span><span class="n">processed_count</span><span class="p">,</span><span class="w"> </span><span class="k">result</span><span class="p">.</span><span class="n">sample</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">new_sample</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code> processed_count |  sample
-----------------+-----------
              10 | [8, 3, 2]
</code></pre></div>
</div>
<p>To sample an entire row of a table, use a <code class="docutils literal notranslate"><span class="pre">ROW</span></code> type input with
each subfield corresponding to the columns of the source table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><code><span class="k">WITH</span><span class="w"> </span><span class="k">result</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span>
<span class="w">        </span><span class="n">reservoir_sample</span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="k">row</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">row</span><span class="p">(</span><span class="n">idx</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="nb">varchar</span><span class="p">)),</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">reservoir</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k">VALUES</span>
<span class="w">        </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;d&#39;</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
<span class="p">)</span>
<span class="k">SELECT</span>
<span class="w">    </span><span class="n">reservoir</span><span class="p">.</span><span class="n">processed_count</span><span class="p">,</span><span class="w"> </span><span class="n">reservoir</span><span class="p">.</span><span class="n">sample</span>
<span class="k">FROM</span><span class="w"> </span><span class="k">result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code> processed_count |              sample
-----------------+----------------------------------
               5 | [{idx=1, val=a}, {idx=5, val=e}]
</code></pre></div>
</div>
</dd></dl>

<h2 id="noisy-aggregate-functions">Noisy Aggregate Functions<a class="headerlink" href="#noisy-aggregate-functions" title="Link to this heading">¶</a></h2>
<p>See <a class="reference internal" href="noisy.html"><span class="doc">Noisy Aggregate Functions</span></a>.</p>
<hr class="docutils" />
<div role="list" class="citation-list">
<div class="citation" id="alizadeh2010" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>Alizadeh2010<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id5">2</a>)</span>
<p>Alizadeh Noughabi, Hadi &amp; Arghami, N. (2010). “A New Estimator of Entropy”.</p>
</div>
<div class="citation" id="beirlant2001" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">Beirlant2001</a><span class="fn-bracket">]</span></span>
<p>Beirlant, Dudewicz, Gyorfi, and van der Meulen,
“Nonparametric entropy estimation: an overview”, (2001)</p>
</div>
<div class="citation" id="benhaimtomtov2010" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">BenHaimTomTov2010</a><span class="fn-bracket">]</span></span>
<p>Yael Ben-Haim and Elad Tom-Tov, “A streaming parallel decision tree algorithm”,
J. Machine Learning Research 11 (2010), pp. 849–872.</p>
</div>
<div class="citation" id="black2015" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">Black2015</a><span class="fn-bracket">]</span></span>
<p>Black, Paul E. (26 January 2015). “Reservoir sampling”. Dictionary of Algorithms and Data Structures.</p>
</div>
<div class="citation" id="efraimidis2006" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">Efraimidis2006</a><span class="fn-bracket">]</span></span>
<p>Efraimidis, Pavlos S.; Spirakis, Paul G. (2006-03-16). “Weighted random sampling with a reservoir”.
Information Processing Letters. 97 (5): 181–185.</p>
</div>
<div class="citation" id="vitter1985" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">Vitter1985</a><span class="fn-bracket">]</span></span>
<p>Vitter, Jeffrey S. “Random sampling with a reservoir.” ACM Transactions on Mathematical Software (TOMS) 11.1 (1985): 37-57.</p>
</div>
</div>



  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="datetime.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Date and Time Functions and Operators" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Date and Time Functions and Operators
            </div>
          </div>
        </a>
      
      
        
        <a href="noisy.html" class="md-footer__link md-footer__link--next" aria-label="Next: Noisy Aggregate Functions" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Noisy Aggregate Functions
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright The Presto Foundation. All rights reserved. Presto is a registered trademark of LF Projects, LLC.
        
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/prestodb/presto" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["toc.follow", "toc.sticky"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
      
        <script src="../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script id="MathJax-script" src="../_static/mathjax/tex-mml-chtml.js?v=cadf963e"></script>
    
  </body>
</html>